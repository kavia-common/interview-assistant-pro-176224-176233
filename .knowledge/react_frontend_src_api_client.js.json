{"is_source_file": true, "format": "JavaScript", "description": "This file defines API client functions for a React frontend to interact with backend endpoints related to authentication, interview flow, and reports. It manages tokens in local storage, makes fetch requests, and exports functions for login, registration, starting interviews, fetching questions, submitting answers, and retrieving reports.", "external_files": ["process.env", "window.localStorage", "fetch"], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "fetch"], "published": ["getToken", "setToken", "logout", "api"], "classes": [], "methods": [{"name": "getToken()", "description": "Retrieves JWT token from localStorage.", "scope": "", "scopeKind": ""}, {"name": "setToken(token)", "description": "Persists or removes JWT token in localStorage.", "scope": "", "scopeKind": ""}, {"name": "logout()", "description": "Clears the auth token by calling setToken with null.", "scope": "", "scopeKind": ""}, {"name": "request(path, { method = 'GET', body, headers } = {})", "description": "Internal helper function that performs HTTP requests with proper headers, including authorization and content-type, and processes responses.", "scope": "", "scopeKind": ""}, {"name": "api.login", "description": "Sends login request with email and password, and stores the received token."}, {"name": "api.register", "description": "Sends registration request with user info, and stores the token if provided."}, {"name": "api.startInterview", "description": "Starts an interview session with specified mode."}, {"name": "api.nextQuestion", "description": "Fetches the next interview question based on mode."}, {"name": "api.submitAnswer", "description": "Submits an answer for a question within an interview session."}, {"name": "api.myReports", "description": "Retrieves user's reports."}, {"name": "api.sessionReport", "description": "Retrieves a specific session report by ID."}, {"name": "login(payload)", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "myReports()", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "nextQuestion(mode)", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "register(payload)", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "sessionReport(id)", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "startInterview(payload)", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "submitAnswer(payload)", "scope": "api", "scopeKind": "class", "description": "unavailable"}], "calls": ["getToken()", "setToken(token)", "fetch(url, opts)"], "search-terms": ["auth token", "interview start", "question next", "submit answer", "report retrieval", "local storage token management", "API client"], "state": 2, "file_id": 15, "knowledge_revision": 32, "git_revision": "", "ctags": [{"_type": "tag", "name": "BASE_URL", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^const BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^const TOKEN_KEY = 'ia_jwt_token';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "getToken", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^export function getToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^  async login(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^export function logout() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^    method,$/", "language": "JavaScript", "kind": "field", "scope": "request.opts", "scopeKind": "class"}, {"_type": "tag", "name": "myReports", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^  async myReports() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "nextQuestion", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^  async nextQuestion(mode) {$/", "language": "JavaScript", "kind": "method", "signature": "(mode)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "register", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^  async register(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^async function request(path, { method = 'GET', body, headers } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', body, headers } = {})"}, {"_type": "tag", "name": "sessionReport", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^  async sessionReport(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "setToken", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^export function setToken(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "startInterview", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^  async startInterview(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "submitAnswer", "path": "/home/kavia/workspace/code-generation/interview-assistant-pro-176224-176233/react_frontend/src/api/client.js", "pattern": "/^  async submitAnswer(payload) {$/", "language": "JavaScript", "kind": "method", "signature": "(payload)", "scope": "api", "scopeKind": "class"}], "hash": "2768fd5b89b4627038639810e97705a0", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/api/client.js", "fields": [{"name": "method,", "scope": "request.opts", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"32": ""}]}